My app Scuttlebutt is going to be an anonymous feed-based platform for service members to engage with other members of their command, branch of service, and the entire military. The company version of this idea is roughly "Blind." The school version of this idea is roughly "Fizz." The community version of this idea used to be "Yik Yak." Please read the attached file thoroughly. It contains the code for Scuttlebutt and the Firestore database rules.

When giving me code, please give me the full code for the file that the code lives in. Not just the code that needs editing; even the unchanged parts. I shouldn't see things like "implement functionality here..." or "methods remain the same..." Ensure that the code changes donâ€™t break any existing functionality. If rules need to be updated, give me the complete revised set of rules.

Here's what I'd like help with
- A user shouldn't be able to save their own posts
- A user should only be allowed to upvote once or downvote once. If the count is 0, they can upvote to 1, then downvote to 0, then downvote to -1. They can upvote back to 0 and back to 1 if they want. But no more than that. Does that make sense?

Please ensure that any errors are printed to the terminal.